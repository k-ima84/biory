/* 共通レイアウトスタイル */
.biory-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: #f5f5f5;
}

/* ヘッダー */
.biory-header {
  background-color: #f5f5f5;
  color: white;
  padding: 15px 20px;
  text-align: center;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.biory-logo {
  margin: 0;
  font-size: 24px;
  font-weight: bold;
  color: #ffd700;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

/* メインコンテンツ */
.biory-main {
  flex: 1;
  margin-top: 70px; /* ヘッダーの高さ分 */
  margin-bottom: 80px; /* フッターの高さ分 */
  padding: 20px;
  overflow-y: auto;
}

/* ボトムナビゲーション */
.biory-bottom-nav {
  position: fixed;     /* 画面に固定表示（スクロールしても動かない） */
  bottom: 0;           /* 画面の一番下に配置 */
  left: 0;             /* 画面の左端から配置 */
  right: 0;            /* 画面の右端まで伸ばす */
  background-color: white;                    /* 背景色を白に設定 */
  border-top: 1px solid #e0e0e0;            /* 上部に薄いグレーの境界線 */
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1); /* 上向きの影効果 */
  display: flex;                /* フレックスボックスレイアウトを使用 */
  justify-content: space-around; /* アイコンを均等に配置 */
  padding: 10px 0;              /* 上下に10pxの余白 */
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
  z-index: 1000;
  /* 強制的な再描画のため */
  transform: translateZ(0);
  will-change: transform;
}

.nav-item {
  background: none;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: all 0.2s ease;
}

.nav-item:hover {
  background-color: #f0f0f0;
  border-radius: 8px;
}

.nav-item.active {
  background-color: #f0f8f0;
  border-radius: 8px;
  /* 強制的な再描画のため */
  transform: translateZ(0);
}

.nav-item.active {
  animation: activeHighlight 0.3s ease-in-out;
}

@keyframes activeHighlight {
  0% { background-color: transparent; }
  100% { background-color: #f0f8f0; }
}

/* ナビゲーションアイコン */
.nav-icon {
  width: 24px;
  height: 24px;
  background-color: #070707;
  mask-size: 20px 20px;
  mask-repeat: no-repeat;
  mask-position: center;
  transition: background-color 0.3s ease;
  -webkit-mask-size: 20px 20px;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

/* アクティブ状態のアイコン */
.nav-item.active .nav-icon {
  background-color: #93f8ae;
}

.home-icon {
  mask-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' fill='black'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' fill='black'/%3E%3C/svg%3E");
}

.meal-icon {
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2'/%3E%3Cpath d='M7 2v20'/%3E%3Cpath d='M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7'/%3E%3C/svg%3E");
}

.calendar-icon {
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'/%3E%3Cline x1='16' y1='2' x2='16' y2='6'/%3E%3Cline x1='8' y1='2' x2='8' y2='6'/%3E%3Cline x1='3' y1='10' x2='21' y2='10'/%3E%3C/svg%3E");
}

.settings-icon {
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Ccircle cx='12' cy='12' r='3'/%3E%3Cpath d='M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z'/%3E%3C/svg%3E");
}

/* レスポンシブ対応 */

/* 極小スマートフォン対応 (320px以下) */
@media (max-width: 320px) {
  .biory-header {
    padding: 10px 15px;
  }
  
  .biory-logo {
    font-size: 20px;
  }
  
  .biory-main {
    padding: 10px;
    margin-top: 60px;
    margin-bottom: 70px;
  }
  
  .biory-bottom-nav {
    padding: 8px 0;
  }
  
  .nav-item {
    padding: 6px 8px;
  }
  
  .nav-icon {
    width: 18px;
    height: 18px;
    mask-size: 16px 16px;
    -webkit-mask-size: 16px 16px;
  }
}

/* スマートフォン対応 (480px以下) */
@media (max-width: 480px) {
  .biory-layout {
    font-size: 14px; /* 基本フォントサイズを小さく */
  }
  
  .biory-header {
    padding: 12px 16px;
  }
  
  .biory-logo {
    font-size: 22px;
  }
  
  .biory-main {
    padding: 15px;
    margin-top: 65px;
    margin-bottom: 75px;
  }
  
  .nav-icon {
    width: 20px;
    height: 20px;
    mask-size: 18px 18px;
    -webkit-mask-size: 18px 18px;
  }
  
  .nav-item {
    padding: 6px 10px;
  }
}

/* タブレット対応 (768px以下) */
@media (max-width: 768px) and (min-width: 481px) {
  .biory-layout {
    font-size: 15px;
  }
  
  .biory-header {
    padding: 15px 24px;
  }
  
  .biory-logo {
    font-size: 26px;
  }
  
  .biory-main {
    padding: 18px;
    margin-top: 75px;
    margin-bottom: 85px;
    max-width: 600px; /* タブレットでは幅を制限 */
    margin-left: auto;
    margin-right: auto;
  }
  
  .biory-bottom-nav {
    padding: 12px 0;
    /* タブレット用の位置設定を削除 */
  }
  
  .nav-icon {
    width: 26px;
    height: 26px;
    mask-size: 22px 22px;
    -webkit-mask-size: 22px 22px;
  }
  
  .nav-item {
    padding: 10px 16px;
  }
}

/* デスクトップ対応 (1024px以上) */
@media (min-width: 1024px) {
  .biory-layout {
    font-size: 16px;
  }
  
  .biory-header {
    padding: 20px 32px;
  }
  
  .biory-logo {
    font-size: 28px;
  }
  
  .biory-main {
    padding: 24px;
    margin-top: 80px;
    margin-bottom: 90px;
    max-width: 800px; /* デスクトップでは幅を制限 */
    margin-left: auto;
    margin-right: auto;
  }
  
  .biory-bottom-nav {
    padding: 15px 0;
    /* デスクトップ用の位置設定を削除 */
    border-radius: 12px 12px 0 0; /* 角を丸く */
  }
  
  .nav-icon {
    width: 28px;
    height: 28px;
    mask-size: 24px 24px;
    -webkit-mask-size: 24px 24px;
  }
  
  .nav-item {
    padding: 12px 20px;
  }
  
  .nav-item:hover {
    background-color: #f0f0f0;
    border-radius: 12px;
  }
  
  .nav-item.active {
    border-radius: 12px;
  }
}

/* 大画面デスクトップ対応 (1440px以上) */
@media (min-width: 1440px) {
  .biory-main {
    max-width: 1000px;
    padding: 32px;
  }
  
  .biory-logo {
    font-size: 32px;
  }
}
