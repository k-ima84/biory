/* CSS変数定義 */
:root {
  --biory-width-mobile: 100vw;    /* 画面幅最大に変更 */
  --biory-width-tablet: 100vw;    /* 画面幅最大に変更 */
  --biory-width-desktop: 100vw;   /* 画面幅最大に変更 */
  --biory-width-large: 100vw;     /* 画面幅最大に変更 */
  
  --biory-padding-mobile: 10px; /* 15px→10pxに削減 */
  --biory-padding-tablet: 15px; /* 18px→15pxに削減 */
  --biory-padding-desktop: 20px; /* 24px→20pxに削減 */
  --biory-padding-large: 25px; /* 32px→25pxに削減 */
  
  /* コンテンツ表示幅を70%に制限 */
  --biory-content-width: 70%;
}

/* 共通レイアウトスタイル */
.biory-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  background-color: #f5f5f5;
  /* 拡大縮小対応：共通設定を適用 */
  height: 100vh;
  overflow: hidden;
}

/* ヘッダー */
.biory-header {
  background-color: rgba(245, 245, 245, 0.95); /* 背景を半透明のグレーに変更 */
  color: white;
  padding: 4px 0; /* 左右のパディングを0にして完全に中央配置 */
  text-align: center;
  position: sticky; /* fixedからstickyに変更 */
  top: 0;
  z-index: 1000;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15); /* 下向きの影を追加 */
  min-height: auto; /* 最小高さ制限を削除 */
  display: flex;
  align-items: center;
  justify-content: center;
  /* ヘッダーも画面幅最大に設定 */
  width: 100vw;
  max-width: 100vw;
  margin: 0; /* マージンを明示的に0に設定 */
  left: 0; /* 左端から配置 */
  backdrop-filter: blur(10px); /* ぼかし効果を追加 */
}

.biory-logo {
  margin: 0;
  font-size: 28px; /* フォントサイズを大きく 20px→28px */
  font-weight: bold;
  color: #ffd700;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
}

/* メインコンテンツ */
.biory-main {
  flex: 1;
  margin-top: 0; /* stickyヘッダーなのでマージン不要 */
  margin-bottom: 80px; /* フッターの高さ分 */
  padding: 0 var(--biory-padding-mobile) var(--biory-padding-mobile) var(--biory-padding-mobile); /* 統一されたパディング */
  overflow-y: auto;
  /* スクロール改善 */
  scroll-behavior: smooth;
  overscroll-behavior: contain;
  /* 幅を画面最大に設定 - スクロールバーを右端に配置 */
  width: 100vw;
  max-width: 100vw;
  margin-left: 0;
  margin-right: 0;
  box-sizing: border-box;
  /* 共通レイアウトとして各画面の幅・パディング設定を統一管理 */
}

/* コンテンツ表示幅制限コンテナ */
.biory-content-container {
  max-width: var(--biory-content-width);
  margin: 0 auto;
  width: 100%;
  box-sizing: border-box;
}

/* ボトムナビゲーション */
.biory-bottom-nav {
  position: fixed;     /* 画面に固定表示（スクロールしても動かない） */
  bottom: 0;           /* 画面の一番下に配置 */
  left: 0;             /* 画面の左端から配置 */
  right: 0;            /* 画面の右端まで伸ばす */
  background-color: white;                    /* 背景色を白に設定 */
  border-top: 1px solid #e0e0e0;            /* 上部に薄いグレーの境界線 */
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1); /* 上向きの影効果 */
  display: flex;                /* フレックスボックスレイアウトを使用 */
  justify-content: space-around; /* アイコンを均等に配置 */
  padding: 10px 0;              /* 上下に10pxの余白 */
  box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
  z-index: 1000;
  /* 強制的な再描画のため */
  transform: translateZ(0);
  will-change: transform;
}

.nav-item {
  background: none;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: all 0.2s ease;
}

.nav-item:hover {
  background-color: #f0f0f0;
  border-radius: 8px;
}

.nav-item.active {
  background-color: #a8e6cf;
  border-radius: 8px;
  /* 強制的な再描画のため */
  transform: translateZ(0);
}

.nav-item.active {
  animation: activeHighlight 0.3s ease-in-out;
}

@keyframes activeHighlight {
  0% { background-color: transparent; }
  100% { background-color: #f0f8f0; }
}

/* ナビゲーションアイコン */
.nav-icon {
  width: 24px;
  height: 24px;
  background-color: #070707;
  mask-size: 20px 20px;
  mask-repeat: no-repeat;
  mask-position: center;
  transition: background-color 0.3s ease;
  -webkit-mask-size: 20px 20px;
  -webkit-mask-repeat: no-repeat;
  -webkit-mask-position: center;
}

/* アクティブ状態のアイコン */
.nav-item.active .nav-icon {
  background-color: black;
}

.home-icon {
  mask-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' fill='black'/%3E%3C/svg%3E");
  -webkit-mask-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'%3E%3Cpath d='M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z' fill='black'/%3E%3C/svg%3E");
}

.meal-icon {
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2'/%3E%3Cpath d='M7 2v20'/%3E%3Cpath d='M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7'/%3E%3C/svg%3E");
}

.calendar-icon {
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Crect x='3' y='4' width='18' height='18' rx='2' ry='2'/%3E%3Cline x1='16' y1='2' x2='16' y2='6'/%3E%3Cline x1='8' y1='2' x2='8' y2='6'/%3E%3Cline x1='3' y1='10' x2='21' y2='10'/%3E%3C/svg%3E");
}

.settings-icon {
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='currentColor'%3E%3Cpath d='M19.14 12.94c0.04-0.3 0.06-0.61 0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14 0.23-0.41 0.12-0.61l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39 0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4 2.81c-0.04-0.24-0.24-0.41-0.48-0.41h-3.84c-0.24 0-0.43 0.17-0.47 0.41L9.25 5.35C8.66 5.59 8.12 5.92 7.63 6.29L5.24 5.33c-0.22-0.08-0.47 0-0.59 0.22L2.74 8.87C2.62 9.08 2.66 9.34 2.86 9.48l2.03 1.58C4.84 11.36 4.8 11.69 4.8 12s0.02 0.64 0.07 0.94l-2.03 1.58c-0.18 0.14-0.23 0.41-0.12 0.61l1.92 3.32c0.12 0.22 0.37 0.29 0.59 0.22l2.39-0.96c0.5 0.38 1.03 0.7 1.62 0.94l0.36 2.54c0.05 0.24 0.24 0.41 0.48 0.41h3.84c0.24 0 0.44-0.17 0.47-0.41l0.36-2.54c0.59-0.24 1.13-0.56 1.62-0.94l2.39 0.96c0.22 0.08 0.47 0 0.59-0.22l1.92-3.32c0.12-0.22 0.07-0.47-0.12-0.61L19.14 12.94zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6s3.6 1.62 3.6 3.6S13.98 15.6 12 15.6z'/%3E%3C/svg%3E");
}

/* レスポンシブ対応 */

/* 極小スマートフォン対応 (320px以下) */
@media (max-width: 320px) {
  .biory-header {
    padding: 10px 15px;
  }
  
  .biory-logo {
    font-size: 20px;
  }
  
  .biory-main {
    padding: 10px;
    margin-top: 60px;
    margin-bottom: 70px;
  }
  
  .biory-bottom-nav {
    padding: 8px 0;
  }
  
  .nav-item {
    padding: 6px 8px;
  }
  
  .nav-icon {
    width: 18px;
    height: 18px;
    mask-size: 16px 16px;
    -webkit-mask-size: 16px 16px;
  }
}

/* スマートフォン対応 (480px以下) */
@media (max-width: 480px) {
  .biory-layout {
    font-size: 14px; /* 基本フォントサイズを小さく */
  }
  
  .biory-header {
    padding: 12px 0; /* 左右のパディングを0にして中央配置 */
  }
  
  .biory-logo {
    font-size: 26px; /* 22px→26pxに拡大 */
  }
  
  .biory-main {
    padding: var(--biory-padding-mobile);
    margin-top: 65px;
    margin-bottom: 75px;
  }
  
  /* モバイルではコンテンツ幅を90%に拡大 */
  .biory-content-container {
    max-width: 90%;
  }
  
  .nav-icon {
    width: 20px;
    height: 20px;
    mask-size: 18px 18px;
    -webkit-mask-size: 18px 18px;
  }
  
  .nav-item {
    padding: 6px 10px;
  }
}

/* タブレット対応 (768px以下) */
@media (max-width: 768px) and (min-width: 481px) {
  .biory-layout {
    font-size: 15px;
  }
  
  .biory-header {
    padding: 5px 0; /* 左右のパディングを0にして中央配置 */
  }
  
  .biory-logo {
    font-size: 26px; /* 22px→26pxに拡大 */
  }
  
  .biory-main {
    padding: 0 var(--biory-padding-tablet) var(--biory-padding-tablet) var(--biory-padding-tablet); /* 上部パディング0で統一 */
    margin-bottom: 85px;
    /* 幅設定は画面最大のままで上書きしない */
  }
  
  /* タブレットではコンテンツ幅を80%に調整 */
  .biory-content-container {
    max-width: 80%;
  }
  
  .biory-bottom-nav {
    padding: 12px 0;
    /* タブレット用の位置設定を削除 */
  }
  
  .nav-icon {
    width: 26px;
    height: 26px;
    mask-size: 22px 22px;
    -webkit-mask-size: 22px 22px;
  }
  
  .nav-item {
    padding: 10px 16px;
  }
}

/* デスクトップ対応 (1024px以上) */
@media (min-width: 1024px) {
  .biory-layout {
    font-size: 16px;
  }
  
  .biory-header {
    padding: 6px 0; /* 左右のパディングを0にして中央配置 */
  }
  
  .biory-logo {
    font-size: 36px; /* 24px→30pxに拡大 */
  }
  
  .biory-main {
    padding: 0 var(--biory-padding-desktop) var(--biory-padding-desktop) var(--biory-padding-desktop); /* 上部パディング0で統一 */
    margin-bottom: 90px;
    /* 幅設定は画面最大のままで上書きしない */
  }
  
  /* デスクトップではコンテンツ幅を70%に設定（デフォルト値） */
  .biory-content-container {
    max-width: var(--biory-content-width);
  }
  
  .biory-bottom-nav {
    padding: 15px 0;
    /* デスクトップ用の位置設定を削除 */
    border-radius: 12px 12px 0 0; /* 角を丸く */
  }
  
  .nav-icon {
    width: 28px;
    height: 28px;
    mask-size: 24px 24px;
    -webkit-mask-size: 24px 24px;
  }
  
  .nav-item {
    padding: 12px 20px;
  }
  
  .nav-item:hover {
    background-color: #f0f0f0;
    border-radius: 12px;
  }
  
  .nav-item.active {
    border-radius: 12px;
  }
}

/* 大画面デスクトップ対応 (1440px以上) */
@media (min-width: 1440px) {
  .biory-main {
    padding: 0 var(--biory-padding-large) var(--biory-padding-large) var(--biory-padding-large); /* 上部パディング0で統一 */
    /* 幅設定は画面最大のままで上書きしない */
  }
  
  /* 大画面ではコンテンツ幅を60%に縮小 */
  .biory-content-container {
    max-width: 60%;
  }
  
  .biory-logo {
    font-size: 40px; /* 統一されたフォントサイズ */
  }
}
